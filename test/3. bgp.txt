Опрос № 3.
Темы: автономные системы Интернета, протокол BGP.

1. Дать определение Автономной системы (АС) согласно RFC 1930. Как менялось это определение с течением времени? Чем обусловлено такое изменение? Привести классификацию АС согласно RFC 1772 и описать каждый тип.
AS представляет собой группу из одного или нескольких префиксов IP, работающих у одного или нескольких сетевых
операторов, которые имеют единую (SINGLE) и четко определенную (CLEARLY DEFINED) политику маршрутизации

По классическому определению автономная система представляет собой множество маршрутизаторов с единым техническим
администрированием, использующих один протокол внутренней маршрутизации (IGP) и единую метрику для маршрутизации
пакетов внутри AS, а для передачи пакетов в другие автономные системы применяющих протокол внешней маршрутизации
(exterior gateway protocol или EGP). Со временем классическое определение было расширено и в современном понимании AS
может использовать несколько протоколов внутренней маршрутизации, а в некоторых случаях даже несколько наборов
метрик в рамках одной AS. Использование термина AS в таких случаях обусловлено тем, что даже при использовании
множества метрик и протоколов IGP администрирование такой AS с точки зрения других автономных систем выглядит как
единый план внутренней маршрутизации и показывает согласованную картину доступности адресатов с использованием
данной AS.
Классификация AS согласноRFC1772
Тупиковая(stub) AS –автономная система, имеющая соединение только с одной AS.
Многодомная(multihomed) AS –автономная система, соединенная с несколькими AS, но не принимающая транзитный трафик.
ТранзитнаяAS –автономная система, соединенная с множеством других AS и предназначенная (с некоторыми ограничениями на уровне политики) для поддержки как локального, так и транзитного трафика.

2. Как в протоколе BGP-4 реализована борьба с маршрутными петлями?
Если атрибут AS_PATH маршрута BGP содержит петлю (AS loop), маршрут BGP следует исключить из рассмотрения в
фазе 2. Детектирование петель осуществляется путем полного сканирования пути, указанного в атрибуте AS_PATH, и
проверки отсутствия в нем номера локальной AS. Обсуждение работы узлов BGP, настроенных на восприятие
маршрутов с номером AS этого узла в атрибутах пути, выходит за пределы данного документа.
Важно, чтобы узлы BGP внутри AS при выборе маршрутов не принимали конфликтующих решений, которые будут
приводить к возникновению петель при пересылке пакетов.

3. Может ли маршрутизатор, находящийся на границе АС 100, и получивший информацию о пути к сети, находящейся в АС 200, распределить эту информацию среди своих внутренних соседей, т. е. BGP-маршрутизаторов АС 100, используя для этого протокол внутренней маршрутизации, такой как OSPF или RIP? Как именно происходит распространение этой BGP-маршрутной информации между внутреннми соседями АС?
есть IBGP(internal), ospf и rip нельзя, т.к. при отображении BGP на них не будет биекции

4. Протокол BGP предоставляет широкие возможности по управлению входящим (в АС) и исходящим (из АС) трафиком. Назовите основные возможности, иными словами инструменты, (как протокольные так и проприетарные Cisco) для управления трафиком. В чем суть каждой из этих возможностей (2-3 предложения или пример)?
исходящий - weight(определение веса маршрутов), Local Preference(Указывает маршрутизаторам внутри автономной системы как выйти за её пределы) ,Балансировка трафика в BGP(распред по разн маршрутам)
входящий - AS path prepend(удлиняет маршрут), community, MED(используется для информирования eBGP-соседей о том, какой путь в автономную систему более предпочтительный)
Атрибут community BGP-это числовое значение, которое может быть присвоено определенному префиксу и объявлено другим соседям. Когда сосед получает префикс, он изучает значение сообщества и принимает надлежащие меры, будь то фильтрация или изменение других атрибутов.
==========================

5. Описать процесс обработки BGP-сообщений UPDATE согласно RFC 4271 (A Border Gateway Protocol 4 (BGP-4)). Процесс выбора маршрутов (Decision Process), фаза 1: расчет предпочтений (Calculation of Degree of Preference), фаза 2: выбор маршрута (Route Selection), фаза 3: распространение маршрутов (Route Dissemination).

6. Атрибуты пути: определение, структура атрибутов, категории согласно значениям флагов (Attribute Flags). Использование атрибутов пути [эта часть вопроса будет разделена на варианты, например, 1-му варианту описать использование атрибута AS_PATH, 2-му - использование атрибута NEXT_HOP].